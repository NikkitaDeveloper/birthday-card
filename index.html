<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Religions & Castes: Focus on Meena</title>
  <style>
    /* Reset for consistency */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    /* General styling */
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      background: #f4f4f9;
      color: #333;
      min-height: 100vh;
      padding: 20px;
      overflow-x: hidden;
    }

    /* Container */
    .container {
      max-width: 900px;
      margin: 0 auto;
    }

    /* Text-based loader (no images) */
    .loader {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 60px;
      height: 60px;
      border: 6px solid #d0d0d0;
      border-top: 6px solid #2c3e50;
      border-radius: 50%;
      animation: spin 0.7s linear infinite;
      z-index: 1000;
      display: block;
    }

    @keyframes spin {
      0% { transform: translate(-50%, -50%) rotate(0deg); }
      100% { transform: translate(-50%, -50%) rotate(360deg); }
    }

    .loader.hidden {
      display: none;
    }

    /* Content styling */
    .content {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    .content.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .content.hidden {
      display: none;
    }

    /* Header */
    header {
      text-align: center;
      padding: 20px 0;
      border-bottom: 2px solid #3498db;
    }

    h1 {
      font-size: 2.2em;
      color: #2c3e50;
      margin-bottom: 10px;
    }

    /* Search bar */
    #search {
      width: 100%;
      padding: 10px;
      margin: 15px 0;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1em;
    }

    /* Sections */
    section {
      margin: 20px 0;
      padding: 15px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    h2 {
      font-size: 1.6em;
      color: #3498db;
      margin-bottom: 10px;
      cursor: pointer;
      transition: color 0.3s ease;
    }

    h2:hover {
      color: #2980b9;
    }

    p, ul {
      font-size: 1em;
      margin-bottom: 10px;
    }

    ul {
      list-style: none;
      padding-left: 20px;
    }

    li::before {
      content: "• ";
      color: #3498db;
    }

    /* Expandable sections */
    .details {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }

    .details.expanded {
      max-height: 1000px; /* Adjust as needed */
    }

    /* Buttons */
    button {
      padding: 10px 20px;
      background: #3498db;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 0.9em;
      transition: transform 0.2s ease, background 0.2s ease;
      margin: 10px 0;
    }

    button:hover {
      background: #2980b9;
      transform: scale(1.03);
    }

    button:focus {
      outline: 2px solid #2c3e50;
      outline-offset: 2px;
    }

    /* Error message */
    .error {
      color: #c0392b;
      font-size: 0.9em;
      text-align: center;
      margin: 10px 0;
      display: none;
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 20px 0;
      font-size: 0.9em;
      color: #7f8c8d;
    }

    /* Responsive design */
    @media (max-width: 600px) {
      .loader {
        width: 40px;
        height: 40px;
      }

      h1 {
        font-size: 1.8em;
      }

      h2 {
        font-size: 1.4em;
      }

      .container {
        padding: 10px;
      }
    }

    /* Accessibility: Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      .loader {
        animation: none;
        border: 6px solid #3498db;
      }

      .content, button, h2 {
        transition: none;
      }
    }
  </style>
</head>
<body>
  <!-- Loader -->
  <div id="loader" class="loader" role="status" aria-label="Loading content"></div>

  <!-- Content -->
  <div id="content" class="content hidden">
    <div class="container">
      <header>
        <h1>Exploring Religions and Castes</h1>
        <p>A journey through social structures, with a focus on the Meena community</p>
        <input type="text" id="search" placeholder="Search religions or castes..." aria-label="Search content">
      </header>

      <div id="error" class="error"></div>

      <!-- Religions Overview -->
      <section id="religions">
        <h2 onclick="toggleSection(this)">Major Religions and Social Hierarchies</h2>
        <div class="details">
          <p>Religions shape social structures worldwide. Below is an overview of how caste or similar hierarchies appear in major faiths.</p>
          <ul>
            <li><strong>Hinduism</strong>: Organized into four varnas (Brahmins, Kshatriyas, Vaishyas, Shudras) and thousands of jatis. Tribes like the Meenas are Scheduled Tribes (STs).</li>
            <li><strong>Islam</strong>: South Asian Muslims have Ashraf (elite), Ajlaf (artisans), and Arzal (lowest) groups, despite equality in scripture.</li>
            <li><strong>Christianity</strong>: In India, converts from higher castes hold more status than Dalit or tribal converts.</li>
            <li><strong>Sikhism</strong>: Jat Sikhs dominate over Mazhabi or Ravidasi Sikhs, despite casteless teachings.</li>
            <li><strong>Buddhism</strong>: Casteless in India, but Sri Lankan Buddhists have Govi (high) and Karava (low) ranks.</li>
            <li><strong>Jainism</strong>: Mostly higher-caste Vaishyas (e.g., Oswals), with social practices mirroring Hinduism.</li>
          </ul>
        </div>
      </section>

      <!-- Hindu Caste System -->
      <section id="hindu-caste">
        <h2 onclick="toggleSection(this)">Hindu Caste System</h2>
        <div class="details">
          <p>The Hindu caste system, rooted in ancient texts like the Manusmriti, divides society into varnas and jatis. It became rigid under colonial rule but remains influential today.</p>
          <ul>
            <li><strong>Varnas</strong>: Brahmins (priests), Kshatriyas (warriors), Vaishyas (merchants), Shudras (laborers).</li>
            <li><strong>Jatis</strong>: Thousands of sub-castes tied to region and occupation.</li>
            <li><strong>Scheduled Tribes</strong>: Indigenous groups like the Meenas, outside varnas, with unique cultures.</li>
            <li><strong>Modern Reforms</strong>: Reservations for SCs, STs, and OBCs aim to uplift marginalized groups.</li>
          </ul>
        </div>
      </section>

      <!-- Meena Caste -->
      <section id="meena">
        <h2 onclick="toggleSection(this)">The Meena Community</h2>
        <div class="details">
          <p>The Meena caste, a Scheduled Tribe in Rajasthan, has a rich history and vibrant culture.</p>
          <ul>
            <li><strong>Origins</strong>: Linked to the Matsya Kingdom, possibly from “meen” (fish). Historically hunters and warriors.</li>
            <li><strong>Population</strong>: ~5-7 million, mainly in Rajasthan and Madhya Pradesh.</li>
            <li><strong>Culture</strong>: Organized into clans (adakhs), with festivals like Teej and oral traditions.</li>
            <li><strong>Status</strong>: ST reservations have boosted education and jobs, but tensions with other groups persist.</li>
            <li><strong>Challenges</strong>: Benefits often favor an elite minority; rural Meenas face poverty.</li>
          </ul>
          <button onclick="loadMoreMeena()">Learn More About Meenas</button>
        </div>
      </section>

      <!-- Sociology of Caste -->
      <section id="sociology">
        <h2 onclick="toggleSection(this)">Sociology of Caste</h2>
        <div class="details">
          <p>Caste shapes identity, opportunity, and social dynamics in India and beyond.</p>
          <ul>
            <li><strong>Privilege</strong>: Upper castes inherit social capital, while lower castes face systemic barriers.</li>
            <li><strong>Mobility</strong>: Reservations help groups like the Meenas, but rural-urban divides remain.</li>
            <li><strong>Globalization</strong>: Caste issues affect diaspora communities, sparking anti-caste movements abroad.</li>
          </ul>
        </div>
      </section>

      <footer>
        <p>Built with care to explore culture and identity | 2025</p>
      </footer>
    </div>
  </div>

  <script>
    // Debounce utility
    function debounce(func, wait) {
      let timeout;
      return function executedFunction(...args) {
        const later = () => {
          clearTimeout(timeout);
          func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
      };
    }

    // Toggle loader
    function toggleLoader(show) {
      const loader = document.getElementById('loader');
      const content = document.getElementById('content');
      loader.classList.toggle('hidden', !show);
      content.classList.toggle('hidden', show);
      content.classList.toggle('visible', !show);
    }

    // Show error
    function showError(message) {
      const errorDiv = document.getElementById('error');
      errorDiv.textContent = message;
      errorDiv.style.display = 'block';
    }

    // Toggle expandable sections
    function toggleSection(header) {
      const details = header.nextElementSibling;
      details.classList.toggle('expanded');
    }

    // Simulate async data load for Meena section
    async function loadMoreMeena() {
      toggleLoader(true);
      try {
        await new Promise(resolve => setTimeout(resolve, 800));
        if (Math.random() > 0.9) throw new Error('Simulated error');
        const meenaSection = document.getElementById('meena').querySelector('.details');
        const newContent = document.createElement('p');
        newContent.textContent = 'The Meenas are known for their resilience, transitioning from nomadism to modern professions while preserving traditions.';
        meenaSection.appendChild(newContent);
        toggleLoader(false);
      } catch (error) {
        toggleLoader(false);
        showError('Failed to load more: ' + error.message);
      }
    }

    // Search functionality
    document.getElementById('search').addEventListener('input', debounce(function(e) {
      const query = e.target.value.toLowerCase();
      const sections = document.querySelectorAll('section');
      sections.forEach(section => {
        const text = section.textContent.toLowerCase();
        section.style.display = text.includes(query) ? 'block' : 'none';
      });
    }, 300));

    // Initial load
    window.addEventListener('load', () => {
      setTimeout(() => {
        toggleLoader(false);
        // Expand first section by default
        document.querySelector('.details').classList.add('expanded');
      }, 600);
    });

    // Optimize resize
    window.addEventListener('resize', debounce(() => {
      console.log('Resized');
    }, 100));

    // Progressive enhancement
    document.documentElement.classList.add('js-enabled');
  </script>
</body>
</html>